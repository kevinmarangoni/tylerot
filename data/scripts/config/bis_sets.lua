-- Configurações dos Sets BiS (Best in Slot)
-- Centraliza todos os equipamentos BiS por vocação

BisSets = {
    -- Elite Knight (Vocation ID: 4)
    [4] = {
        name = "Elite Knight",
        items = {
            {id = 39148, name = "Spiritthorn Helmet", slot = "head"},
            {id = 39147, name = "Spiritthorn Armor", slot = "body"},
            {id = 43876, name = "Sanguine Legs", slot = "legs"},
            {id = 34097, name = "Pair of Soulwalkers", slot = "feet"},
            {id = 43871, name = "Grand Sanguine Razor", slot = "weapon"},
            {id = 43865, name = "Grand Sanguine Blade", slot = "weapon2"},
            {id = 39233, name = "Enchanted Turtle Amulet", slot = "necklace"},
            {id = 34099, name = "Soulbastion", slot = "shield"},
            {id = 39178, name = "charged spiritthorn ring", slot = "ring"},
            -- Itens auxiliares de quest
            {id = 28493, name = "Bone Fiddle", slot = "auxiliary"},
            {id = 43863, name = "Conch Shell Horn", slot = "auxiliary"},
            {id = 2921, name = "Lit Torch", slot = "auxiliary"},
            {id = 25975, name = "Moon Mirror", slot = "auxiliary"},
            {id = 43740, name = "Scarab Ocarina", slot = "auxiliary"},
            {id = 25976, name = "Starlight Vial", slot = "auxiliary"},
            {id = 25977, name = "Sun Catcher", slot = "auxiliary"},
            {id = 9042, name = "Magical Torch", slot = "auxiliary"},
            {id = 9596, name = "squeezing gear of girlpower", slot = "auxiliary"}
        }
    },

        -- Paladin (Vocation ID: 3)
    [3] = {
        name = "Paladin",
        items = {
            {id = 39149, name = "Alicorn Headguard", slot = "head"},
            {id = 34094, name = "Soulshell", slot = "body"},
            {id = 43881, name = "Sanguine Greaves", slot = "legs"},
            {id = 34098, name = "Pair of Soulstalkers", slot = "feet"},
            {id = 39150, name = "Alicorn Quiver", slot = "quiver"},
            {id = 43878, name = "Grand Sanguine Bow", slot = "weapon"},
            {id = 43880, name = "Grand Sanguine Crossbow", slot = "weapon2"},
            {id = 39180, name = "Charged Alicorn Ring", slot = "ring"},
            {id = 30344, name = "Enchanted Pendulet", slot = "necklace"},
            -- Itens auxiliares de quest
            {id = 28493, name = "Bone Fiddle", slot = "auxiliary"},
            {id = 43863, name = "Conch Shell Horn", slot = "auxiliary"},
            {id = 2921, name = "Lit Torch", slot = "auxiliary"},
            {id = 25975, name = "Moon Mirror", slot = "auxiliary"},
            {id = 43740, name = "Scarab Ocarina", slot = "auxiliary"},
            {id = 25976, name = "Starlight Vial", slot = "auxiliary"},
            {id = 25977, name = "Sun Catcher", slot = "auxiliary"},
            {id = 9042, name = "Magical Torch", slot = "auxiliary"},
            {id = 9596, name = "squeezing gear of girlpower", slot = "auxiliary"}
        }
    },

    -- Sorcerer (Vocation ID: 1)
    [1] = {
        name = "Sorcerer",
        items = {
            {id = 39151, name = "Arcanomancer Regalia", slot = "body"},
            {id = 39152, name = "Arcanomancer Folio", slot = "book"},
            {id = 34095, name = "Soulmantle", slot = "legs"},
            {id = 34092, name = "Soulshanks", slot = "legs2"},
            {id = 43884, name = "Sanguine Boots", slot = "feet"},
            {id = 43883, name = "Grand Sanguine Coil", slot = "weapon"},
            {id = 39183, name = "Charged Arcanomancer Sigil", slot = "ring"},
            {id = 30403, name = "Enchanted Theurgic Amulet", slot = "necklace"},
            {id = 34090, name = "Soultainter", slot = "shield"},
            -- Itens auxiliares de quest
            {id = 28493, name = "Bone Fiddle", slot = "auxiliary"},
            {id = 43863, name = "Conch Shell Horn", slot = "auxiliary"},
            {id = 2921, name = "Lit Torch", slot = "auxiliary"},
            {id = 25975, name = "Moon Mirror", slot = "auxiliary"},
            {id = 43740, name = "Scarab Ocarina", slot = "auxiliary"},
            {id = 25976, name = "Starlight Vial", slot = "auxiliary"},
            {id = 25977, name = "Sun Catcher", slot = "auxiliary"},
            {id = 9042, name = "Magical Torch", slot = "auxiliary"},
            {id = 9596, name = "squeezing gear of girlpower", slot = "auxiliary"}
        }
    },

    -- Druid (Vocation ID: 2)
    [2] = {
        name = "Druid",
        items = {
            {id = 30403, name = "Enchanted Theurgic Amulet", slot = "necklace"},
            {id = 43886, name = "Grand Sanguine Rod", slot = "weapon"},
            {id = 39186, name = "Charged Arboreal Ring", slot = "ring"},
            {id = 39153, name = "Arboreal Crown", slot = "head"},
            {id = 34096, name = "Soulshroud", slot = "body"},
            {id = 34093, name = "Soulstrider", slot = "legs"},
            {id = 43887, name = "Sanguine Galoshes", slot = "feet"},
            {id = 39154, name = "Arboreal Tome", slot = "book"},
            {id = 34091, name = "Soulhexer", slot = "shield"},
            -- Itens auxiliares de quest
            {id = 28493, name = "Bone Fiddle", slot = "auxiliary"},
            {id = 43863, name = "Conch Shell Horn", slot = "auxiliary"},
            {id = 2921, name = "Lit Torch", slot = "auxiliary"},
            {id = 25975, name = "Moon Mirror", slot = "auxiliary"},
            {id = 43740, name = "Scarab Ocarina", slot = "auxiliary"},
            {id = 25976, name = "Starlight Vial", slot = "auxiliary"},
            {id = 25977, name = "Sun Catcher", slot = "auxiliary"},
            {id = 9042, name = "Magical Torch", slot = "auxiliary"},
            {id = 9596, name = "squeezing gear of girlpower", slot = "auxiliary"}
        }
    },

    -- Master Sorcerer (Vocation ID: 5) - Mesmo set do Sorcerer
    [5] = {
        name = "Master Sorcerer",
        items = {
            {id = 39151, name = "Arcanomancer Regalia", slot = "body"},
            {id = 39152, name = "Arcanomancer Folio", slot = "book"},
            {id = 34095, name = "Soulmantle", slot = "legs"},
            {id = 34092, name = "Soulshanks", slot = "legs2"},
            {id = 43884, name = "Sanguine Boots", slot = "feet"},
            {id = 43883, name = "Grand Sanguine Coil", slot = "weapon"},
            {id = 39183, name = "Charged Arcanomancer Sigil", slot = "ring"},
            {id = 30403, name = "Enchanted Theurgic Amulet", slot = "necklace"},
            {id = 34090, name = "Soultainter", slot = "shield"},
            -- Itens auxiliares de quest
            {id = 28493, name = "Bone Fiddle", slot = "auxiliary"},
            {id = 43863, name = "Conch Shell Horn", slot = "auxiliary"},
            {id = 2921, name = "Lit Torch", slot = "auxiliary"},
            {id = 25975, name = "Moon Mirror", slot = "auxiliary"},
            {id = 43740, name = "Scarab Ocarina", slot = "auxiliary"},
            {id = 25976, name = "Starlight Vial", slot = "auxiliary"},
            {id = 25977, name = "Sun Catcher", slot = "auxiliary"},
            {id = 9042, name = "Magical Torch", slot = "auxiliary"},
            {id = 9596, name = "squeezing gear of girlpower", slot = "auxiliary"}
        }
    },

    -- Elder Druid (Vocation ID: 6) - Mesmo set do Druid
    [6] = {
        name = "Elder Druid",
        items = {
            {id = 30403, name = "Enchanted Theurgic Amulet", slot = "necklace"},
            {id = 43886, name = "Grand Sanguine Rod", slot = "weapon"},
            {id = 39186, name = "Charged Arboreal Ring", slot = "ring"},
            {id = 39153, name = "Arboreal Crown", slot = "head"},
            {id = 34096, name = "Soulshroud", slot = "body"},
            {id = 34093, name = "Soulstrider", slot = "legs"},
            {id = 43887, name = "Sanguine Galoshes", slot = "feet"},
            {id = 39154, name = "Arboreal Tome", slot = "book"},
            {id = 34091, name = "Soulhexer", slot = "shield"},
            -- Itens auxiliares de quest
            {id = 28493, name = "Bone Fiddle", slot = "auxiliary"},
            {id = 43863, name = "Conch Shell Horn", slot = "auxiliary"},
            {id = 2921, name = "Lit Torch", slot = "auxiliary"},
            {id = 25975, name = "Moon Mirror", slot = "auxiliary"},
            {id = 43740, name = "Scarab Ocarina", slot = "auxiliary"},
            {id = 25976, name = "Starlight Vial", slot = "auxiliary"},
            {id = 25977, name = "Sun Catcher", slot = "auxiliary"},
            {id = 9042, name = "Magical Torch", slot = "auxiliary"},
            {id = 9596, name = "squeezing gear of girlpower", slot = "auxiliary"}
        }
    },

    -- Royal Paladin (Vocation ID: 7) - Mesmo set do Paladin
    [7] = {
        name = "Royal Paladin",
        items = {
            {id = 39149, name = "Alicorn Headguard", slot = "head"},
            {id = 34094, name = "Soulshell", slot = "body"},
            {id = 43881, name = "Sanguine Greaves", slot = "legs"},
            {id = 34098, name = "Pair of Soulstalkers", slot = "feet"},
            {id = 39150, name = "Alicorn Quiver", slot = "quiver"},
            {id = 43878, name = "Grand Sanguine Bow", slot = "weapon"},
            {id = 43880, name = "Grand Sanguine Crossbow", slot = "weapon2"},
            {id = 39180, name = "Charged Alicorn Ring", slot = "ring"},
            {id = 30344, name = "Enchanted Pendulet", slot = "necklace"},
            -- Itens auxiliares de quest
            {id = 28493, name = "Bone Fiddle", slot = "auxiliary"},
            {id = 43863, name = "Conch Shell Horn", slot = "auxiliary"},
            {id = 2921, name = "Lit Torch", slot = "auxiliary"},
            {id = 25975, name = "Moon Mirror", slot = "auxiliary"},
            {id = 43740, name = "Scarab Ocarina", slot = "auxiliary"},
            {id = 25976, name = "Starlight Vial", slot = "auxiliary"},
            {id = 25977, name = "Sun Catcher", slot = "auxiliary"},
            {id = 9042, name = "Magical Torch", slot = "auxiliary"},
            {id = 9596, name = "squeezing gear of girlpower", slot = "auxiliary"}
        }
    },

    -- Elite Knight (Vocation ID: 8) - Mesmo set do Knight
    [8] = {
        name = "Elite Knight",
        items = {
            {id = 39148, name = "Spiritthorn Helmet", slot = "head"},
            {id = 39147, name = "Spiritthorn Armor", slot = "body"},
            {id = 43876, name = "Sanguine Legs", slot = "legs"},
            {id = 34097, name = "Pair of Soulwalkers", slot = "feet"},
            {id = 43871, name = "Grand Sanguine Razor", slot = "weapon"},
            {id = 43865, name = "Grand Sanguine Blade", slot = "weapon2"},
            {id = 39233, name = "Enchanted Turtle Amulet", slot = "necklace"},
            {id = 34099, name = "Soulbastion", slot = "shield"},
            {id = 39178, name = "charged spiritthorn ring", slot = "ring"},
            -- Itens auxiliares de quest
            {id = 28493, name = "Bone Fiddle", slot = "auxiliary"},
            {id = 43863, name = "Conch Shell Horn", slot = "auxiliary"},
            {id = 2921, name = "Lit Torch", slot = "auxiliary"},
            {id = 25975, name = "Moon Mirror", slot = "auxiliary"},
            {id = 43740, name = "Scarab Ocarina", slot = "auxiliary"},
            {id = 25976, name = "Starlight Vial", slot = "auxiliary"},
            {id = 25977, name = "Sun Catcher", slot = "auxiliary"},
            {id = 9042, name = "Magical Torch", slot = "auxiliary"},
            {id = 9596, name = "squeezing gear of girlpower", slot = "auxiliary"}
        }
    },

    -- Rook (Vocation ID: 0)
    [0] = {
        name = "Rook",
        items = {
            -- Rooks não têm set BiS
        }
    }
}

-- Funções auxiliares
function BisSets.getVocationSet(vocationId)
    return BisSets[vocationId]
end

function BisSets.getVocationName(vocationId)
    local set = BisSets[vocationId]
    return set and set.name or "Desconhecida"
end

function BisSets.getItems(vocationId)
    local set = BisSets[vocationId]
    return set and set.items or {}
end

function BisSets.hasSet(vocationId)
    local set = BisSets[vocationId]
    return set and #set.items > 0
end

-- Função para mapear vocações promovidas para básicas (fallback)
function BisSets.getBaseVocation(vocationId)
    local vocationMap = {
        [5] = 1, -- Master Sorcerer -> Sorcerer
        [6] = 2, -- Elder Druid -> Druid
        [7] = 3, -- Royal Paladin -> Paladin
        [8] = 4, -- Elite Knight -> Knight
    }
    return vocationMap[vocationId] or vocationId
end

-- Função inteligente para obter set (tenta vocação específica, senão usa a básica)
function BisSets.getVocationSetSmart(vocationId)
    local set = BisSets[vocationId]
    if set and #set.items > 0 then
        return set
    end

    -- Se não encontrar, tenta a vocação básica
    local baseVocationId = BisSets.getBaseVocation(vocationId)
    return BisSets[baseVocationId]
end

-- Log das configurações
print(">> [BiS Sets] Sets BiS carregados com itens auxiliares!")
print(">> [BiS Sets] Knight: " .. (#BisSets[4].items) .. " itens (+" .. 8 .. " auxiliares)")
print(">> [BiS Sets] Paladin: " .. (#BisSets[3].items) .. " itens (+" .. 8 .. " auxiliares)")
print(">> [BiS Sets] Sorcerer: " .. (#BisSets[1].items) .. " itens (+" .. 8 .. " auxiliares)")
print(">> [BiS Sets] Druid: " .. (#BisSets[2].items) .. " itens (+" .. 8 .. " auxiliares)")
print(">> [BiS Sets] Master Sorcerer: " .. (#BisSets[5].items) .. " itens (+" .. 8 .. " auxiliares)")
print(">> [BiS Sets] Elder Druid: " .. (#BisSets[6].items) .. " itens (+" .. 8 .. " auxiliares)")
print(">> [BiS Sets] Royal Paladin: " .. (#BisSets[7].items) .. " itens (+" .. 8 .. " auxiliares)")
print(">> [BiS Sets] Elite Knight: " .. (#BisSets[8].items) .. " itens (+" .. 8 .. " auxiliares)")
print(">> [BiS Sets] Itens auxiliares adicionados: Bone Fiddle, Conch Shell Horn, Lit Torch, Moon Mirror, Scarab Ocarina, Starlight Vial, Sun Catcher, Magical Torch")
